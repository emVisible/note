

主题

- 可维护性
- 可复用性

DAO（Data Access Object） 数据操作类

Controller 控制类



---

# 概要

SOLID+C

## 单一职责 S

- 一个对象只包含单一职责

- 被完整的封装在一个类中

## 开闭原则 O

基于实体

- 对扩展开放
- 对修改关闭

## 里氏替换 L

- 引用基类，必然可以使用子类的对象

## 依赖倒转 I

- 高层模块不依赖低层模块

  高层模块依赖于抽象

- 抽象不依赖于细节

  细节依赖抽象（先有抽象，再有细节）

## 接口隔离 I

- 客户端不依赖其不需要的接口

## 迪米特 D

- 每个软件单位对其他的单位只有最少的认知
- 仅在与本单位相关联的软件单位

## 合成复用 C

- 优先组合
- 而非继承

---

# 原则

## 单一职责 Single Responsibility Principle	SRP

一个类只负责一个功能； 一个模块只负责一个功能；一个函数只负责一个功能

- 主要指的是大部分的具体类s
- 抽象类和接口需要依照具体情况

## 开闭原则  Open-Closed Principle	OCP

开-对扩展，闭-对修改；对模块功能的拓展不修改源码；

要求尽量面向抽象类、接口进行编程

可变封装原则 Principle of Encapsulation of Variation EVP

- 将可变因素，比如变量，可变交互数据独立进行封装

## 里氏代换原则 Liskov Substitution Principle	LSP

父类替换为子类，功能不受影响；

- 子类的所有方法在父类中声明
- 父类尽可能设置为抽象类、接口

## 依赖倒转原则 Dependence Inversion Principle	DIP

依赖指的是父类与子类之间的依赖；具体类依赖抽象类，而不能反过来；

- 具体类只负责实现，而不进行扩充

常见概念

- 类间耦合

  - 零耦合
  - 具体耦合
  - 抽象耦合

- 依赖注入

  一个类的对象传入另一个类；注入时尽量传入父类对象；程序运行时通过子类覆盖父类；

  - 构造注入
  - 设值注入
  - 接口注入

## 接口隔离原则 Interface Segregation Principle	ISP

将大接口转化为小接口；每个接口承担一个独立的角色，也称为角色隔离原则；一个接口中只包含某一类用户定制的方法；

## 合成复用原则 Composite Reuse Principle	CRP

使用组合/聚合而非继承；将一个类的对象作为另一个类的对象的一部分；

继承的问题

- 破坏系统封装性——白箱复用
- 继承的是静态，运行时也不改变——灵活性差
- 仅能在有限环境中使用——不能声明为final

组合的优势

- 已有对象纳入新对象——黑箱复用
- 运行时动态进行

## 迪米特法则 Law of Demeter	LoD

限制实体之间的通信宽度和深度；控制访问权限；信息隐藏；降低类之间的耦合，不过会增加大量小方法；

- 尽量创建松耦合的类

- 降低成员变量 && 方法的访问权限

- 只要是类，尽量设计成不变类

- 只要可能，一个对象对其他对象的引用程度降到最低

---

# 创造型

## 简单工厂

## 工厂模式

```
抽象工厂x1
	具体工厂xN，Extends
	抽象工厂依赖于抽象产品

抽象产品x1
	具体的产品xN
```

## 抽象工厂

```
双层维度

抽象工厂1
具体工厂N

抽象产品N
具体产品N
```

